{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "definitions": {
    "AnswerAnalysis": {
      "additionalProperties": false,
      "properties": {
        "analysis": {
          "type": "string"
        },
        "answered": {
          "type": "boolean"
        },
        "extractedAnswer": {
          "type": "string"
        },
        "questionId": {
          "type": "string"
        }
      },
      "required": [
        "questionId",
        "answered",
        "analysis"
      ],
      "type": "object"
    },
    "AnswerAnalysisResponse": {
      "properties": {
        "answers": {
          "items": {
            "$ref": "#/definitions/AnswerAnalysis"
          },
          "type": "array"
        },
        "message": {
          "type": "string"
        },
        "shouldContinue": {
          "type": "boolean"
        }
      },
      "required": [
        "answers",
        "message",
        "shouldContinue"
      ],
      "type": "object"
    },
    "ArtifactResponseSchema": {
      "properties": {
        "artifactContent": {
          "type": "string"
        },
        "artifactTitle": {
          "type": "string"
        },
        "message": {
          "type": "string"
        }
      },
      "required": [
        "artifactContent",
        "artifactTitle",
        "message"
      ],
      "type": "object"
    },
    "BusinessGoal": {
      "additionalProperties": false,
      "description": "Represents an analyzed business goal",
      "properties": {
        "description": {
          "description": "Detailed description of the business goal",
          "type": "string"
        }
      },
      "required": [
        "description"
      ],
      "type": "object"
    },
    "CodeExecutionResponse": {
      "additionalProperties": false,
      "properties": {
        "code": {
          "type": "string"
        },
        "explanation": {
          "type": "string"
        }
      },
      "required": [
        "code",
        "explanation"
      ],
      "type": "object"
    },
    "CodeExecutionSchema": {
      "additionalProperties": false,
      "properties": {
        "properties": {
          "additionalProperties": false,
          "properties": {
            "code": {
              "additionalProperties": false,
              "properties": {
                "description": {
                  "const": "The JavaScript code to execute",
                  "type": "string"
                },
                "type": {
                  "const": "string",
                  "type": "string"
                }
              },
              "required": [
                "type",
                "description"
              ],
              "type": "object"
            },
            "explanation": {
              "additionalProperties": false,
              "properties": {
                "description": {
                  "const": "Explanation of what the code does",
                  "type": "string"
                },
                "type": {
                  "const": "string",
                  "type": "string"
                }
              },
              "required": [
                "type",
                "description"
              ],
              "type": "object"
            }
          },
          "required": [
            "code",
            "explanation"
          ],
          "type": "object"
        },
        "required": {
          "items": [
            {
              "const": "code",
              "type": "string"
            },
            {
              "const": "explanation",
              "type": "string"
            }
          ],
          "maxItems": 2,
          "minItems": 2,
          "type": "array"
        },
        "type": {
          "const": "object",
          "type": "string"
        }
      },
      "required": [
        "type",
        "properties",
        "required"
      ],
      "type": "object"
    },
    "ContentDecompositionResponse": {
      "additionalProperties": false,
      "properties": {
        "goal": {
          "type": "string"
        },
        "sections": {
          "items": {
            "additionalProperties": false,
            "properties": {
              "description": {
                "type": "string"
              },
              "title": {
                "type": "string"
              }
            },
            "required": [
              "title",
              "description"
            ],
            "type": "object"
          },
          "type": "array"
        },
        "strategy": {
          "type": "string"
        }
      },
      "required": [
        "goal",
        "strategy",
        "sections"
      ],
      "type": "object"
    },
    "ContentOutline": {
      "additionalProperties": false,
      "description": "Represents a complete content outline",
      "properties": {
        "sections": {
          "description": "Organized sections of the content",
          "items": {
            "$ref": "#/definitions/OutlineSection"
          },
          "type": "array"
        },
        "strategy": {
          "description": "Content development strategy",
          "type": "string"
        },
        "title": {
          "description": "Main title for the content",
          "type": "string"
        }
      },
      "required": [
        "title",
        "sections",
        "strategy"
      ],
      "type": "object"
    },
    "ContentSuggestion": {
      "additionalProperties": false,
      "description": "Represents a content improvement suggestion",
      "properties": {
        "explanation": {
          "description": "Explanation of the improvement",
          "type": "string"
        },
        "improved": {
          "description": "Improved version",
          "type": "string"
        },
        "original": {
          "description": "Original content",
          "type": "string"
        },
        "type": {
          "description": "Type of improvement",
          "enum": [
            "clarity",
            "structure",
            "style",
            "grammar"
          ],
          "type": "string"
        }
      },
      "required": [
        "type",
        "original",
        "improved",
        "explanation"
      ],
      "type": "object"
    },
    "CreateArtifact": {
      "properties": {
        "artifactId": {
          "type": "string"
        },
        "artifactTitle": {
          "type": "string"
        },
        "message": {
          "type": "string"
        }
      },
      "required": [
        "artifactId",
        "artifactTitle",
        "message"
      ],
      "type": "object"
    },
    "EditingResponse": {
      "description": "Response containing content editing suggestions",
      "properties": {
        "improvements": {
          "description": "List of section-specific improvements",
          "items": {
            "$ref": "#/definitions/SectionImprovement"
          },
          "type": "array"
        },
        "overallFeedback": {
          "description": "Overall feedback on the content",
          "type": "string"
        },
        "title": {
          "description": "Generated title for the content",
          "type": "string"
        }
      },
      "required": [
        "title",
        "improvements",
        "overallFeedback"
      ],
      "type": "object"
    },
    "FinalResponse": {
      "additionalProperties": false,
      "description": "Interface for final comprehensive response",
      "properties": {
        "message": {
          "description": "Final comprehensive response in Markdown format",
          "type": "string"
        }
      },
      "required": [
        "message"
      ],
      "type": "object"
    },
    "GoalConfirmationResponse": {
      "additionalProperties": false,
      "description": "Interface for goal confirmation response",
      "properties": {
        "message": {
          "description": "A clear restatement of the goal and confirmation of understanding",
          "type": "string"
        },
        "understanding": {
          "description": "Whether the goal is clear and actionable",
          "type": "boolean"
        }
      },
      "required": [
        "message",
        "understanding"
      ],
      "type": "object"
    },
    "GoalsAnalysis": {
      "additionalProperties": false,
      "description": "Represents the analysis of business goals",
      "properties": {
        "goals": {
          "description": "List of broken down business goals",
          "items": {
            "$ref": "#/definitions/BusinessGoal"
          },
          "type": "array"
        }
      },
      "required": [
        "goals"
      ],
      "type": "object"
    },
    "ImplementationStep": {
      "additionalProperties": false,
      "properties": {
        "considerations": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "expectedOutcome": {
          "type": "string"
        },
        "phase": {
          "type": "string"
        }
      },
      "required": [
        "phase",
        "description",
        "expectedOutcome"
      ],
      "type": "object"
    },
    "IntakeQuestion": {
      "additionalProperties": false,
      "properties": {
        "purpose": {
          "type": "string"
        },
        "question": {
          "type": "string"
        }
      },
      "required": [
        "question",
        "purpose"
      ],
      "type": "object"
    },
    "IntakeQuestionsResponse": {
      "additionalProperties": false,
      "properties": {
        "intakeQuestions": {
          "items": {
            "$ref": "#/definitions/IntakeQuestion"
          },
          "type": "array"
        },
        "reasoning": {
          "type": "string"
        }
      },
      "required": [
        "intakeQuestions",
        "reasoning"
      ],
      "type": "object"
    },
    "LinkSelectionResponse": {
      "additionalProperties": false,
      "properties": {
        "links": {
          "description": "Array of selected links that are relevant to the research goal",
          "items": {
            "additionalProperties": false,
            "properties": {
              "href": {
                "description": "The URL of the link",
                "type": "string"
              },
              "text": {
                "description": "The visible text of the link",
                "type": "string"
              }
            },
            "required": [
              "href",
              "text"
            ],
            "type": "object"
          },
          "type": "array"
        }
      },
      "required": [
        "links"
      ],
      "type": "object"
    },
    "LookupResearchResponse": {
      "additionalProperties": false,
      "properties": {
        "query": {
          "type": "string"
        },
        "reinterpreted_goal": {
          "type": "string"
        }
      },
      "required": [
        "reinterpreted_goal",
        "query"
      ],
      "type": "object"
    },
    "ModelMessageResponse": {
      "properties": {
        "message": {
          "type": "string"
        }
      },
      "required": [
        "message"
      ],
      "type": "object"
    },
    "ModelResponse": {
      "properties": {},
      "type": "object"
    },
    "ModelResponseMetadata": {
      "additionalProperties": false,
      "properties": {
        "_usage": {
          "additionalProperties": false,
          "properties": {
            "inputTokens": {
              "type": "number"
            },
            "outputTokens": {
              "type": "number"
            }
          },
          "required": [
            "inputTokens",
            "outputTokens"
          ],
          "type": "object"
        }
      },
      "required": [
        "_usage"
      ],
      "type": "object"
    },
    "NextAction": {
      "additionalProperties": false,
      "properties": {
        "actionType": {
          "type": "string"
        },
        "parameters": {
          "type": "string"
        }
      },
      "required": [
        "actionType",
        "parameters"
      ],
      "type": "object"
    },
    "NextActionResponse": {
      "properties": {
        "action": {
          "$ref": "#/definitions/NextAction"
        },
        "reasoning": {
          "type": "string"
        }
      },
      "required": [
        "action",
        "reasoning"
      ],
      "type": "object"
    },
    "OnboardingConsultantResponse": {
      "properties": {
        "completedTasks": {
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "message": {
          "type": "string"
        }
      },
      "required": [
        "completedTasks",
        "message"
      ],
      "type": "object"
    },
    "OperationalGuide": {
      "additionalProperties": false,
      "properties": {
        "businessContext": {
          "type": "string"
        },
        "implementationApproach": {
          "type": "string"
        },
        "keyConsiderations": {
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "questionsAndAnswers": {
          "items": {
            "$ref": "#/definitions/QAItem"
          },
          "type": "array"
        },
        "recommendedSteps": {
          "items": {
            "$ref": "#/definitions/ImplementationStep"
          },
          "type": "array"
        },
        "serviceStrategy": {
          "type": "string"
        }
      },
      "required": [
        "businessContext",
        "serviceStrategy",
        "implementationApproach",
        "recommendedSteps",
        "questionsAndAnswers"
      ],
      "type": "object"
    },
    "OperationalGuideResponse": {
      "additionalProperties": false,
      "properties": {
        "operationalGuide": {
          "$ref": "#/definitions/OperationalGuide"
        },
        "summary": {
          "type": "string"
        }
      },
      "required": [
        "operationalGuide",
        "summary"
      ],
      "type": "object"
    },
    "OutlineSection": {
      "additionalProperties": false,
      "description": "Represents a content outline section",
      "properties": {
        "description": {
          "description": "Detailed description of the section content",
          "type": "string"
        },
        "heading": {
          "description": "The section heading",
          "type": "string"
        },
        "keyPoints": {
          "description": "Key points to be covered in the section",
          "items": {
            "type": "string"
          },
          "type": "array"
        }
      },
      "required": [
        "heading",
        "description",
        "keyPoints"
      ],
      "type": "object"
    },
    "PlanStepTask": {
      "additionalProperties": false,
      "properties": {
        "actionType": {
          "type": "string"
        },
        "context": {
          "type": "string"
        },
        "existingId": {
          "type": "string"
        }
      },
      "required": [
        "actionType",
        "context"
      ],
      "type": "object"
    },
    "PlanStepsResponse": {
      "additionalProperties": false,
      "properties": {
        "steps": {
          "items": {
            "$ref": "#/definitions/PlanStepTask"
          },
          "type": "array"
        }
      },
      "required": [
        "steps"
      ],
      "type": "object"
    },
    "QAItem": {
      "additionalProperties": false,
      "properties": {
        "answer": {
          "type": "string"
        },
        "category": {
          "type": "string"
        },
        "question": {
          "type": "string"
        }
      },
      "required": [
        "question",
        "answer"
      ],
      "type": "object"
    },
    "QueriesResponse": {
      "additionalProperties": false,
      "description": "Interface for research response",
      "properties": {
        "queries": {
          "description": "Generated search queries",
          "items": {
            "$ref": "#/definitions/SearchQuery"
          },
          "type": "array"
        },
        "rationale": {
          "description": "Why these searches will help reach the goal",
          "type": "string"
        }
      },
      "required": [
        "queries",
        "rationale"
      ],
      "type": "object"
    },
    "QuickQueriesResponse": {
      "additionalProperties": false,
      "description": "Interface for quick mode queries response",
      "properties": {
        "queries": {
          "description": "Array of search query strings",
          "items": {
            "type": "string"
          },
          "type": "array"
        }
      },
      "required": [
        "queries"
      ],
      "type": "object"
    },
    "ReasoningResponse": {
      "properties": {
        "reasoning": {
          "type": "string"
        }
      },
      "required": [
        "reasoning"
      ],
      "type": "object"
    },
    "RefutingResponse": {
      "additionalProperties": false,
      "description": "Interface for refuting response",
      "properties": {
        "analysis": {
          "description": "Analysis of the counterarguments",
          "type": "string"
        },
        "counterarguments": {
          "description": "List of potential counterarguments",
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "finalVerdict": {
          "description": "Final verdict after considering counterarguments",
          "type": "string"
        }
      },
      "required": [
        "counterarguments",
        "analysis",
        "finalVerdict"
      ],
      "type": "object"
    },
    "RequestArtifacts": {
      "properties": {
        "artifactIds": {
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "message": {
          "type": "string"
        }
      },
      "required": [
        "message"
      ],
      "type": "object"
    },
    "ResearchArtifactResponse": {
      "properties": {
        "artifactContent": {
          "type": "string"
        },
        "artifactTitle": {
          "type": "string"
        },
        "message": {
          "type": "string"
        }
      },
      "required": [
        "artifactContent",
        "artifactTitle",
        "message"
      ],
      "type": "object"
    },
    "ResearchDecomposition": {
      "additionalProperties": false,
      "properties": {
        "goal": {
          "type": "string"
        },
        "researchRequested": {
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "strategy": {
          "type": "string"
        }
      },
      "required": [
        "goal",
        "strategy",
        "researchRequested"
      ],
      "type": "object"
    },
    "ResearchFinding": {
      "additionalProperties": false,
      "description": "Interface for a key research finding",
      "properties": {
        "finding": {
          "description": "The main finding or insight",
          "type": "string"
        },
        "relevance": {
          "description": "How relevant this finding is to the goal",
          "type": "string"
        },
        "sources": {
          "description": "Sources supporting this finding",
          "items": {
            "type": "string"
          },
          "type": "array"
        }
      },
      "required": [
        "finding",
        "sources",
        "relevance"
      ],
      "type": "object"
    },
    "ResearchResponse": {
      "additionalProperties": false,
      "description": "Interface for research response",
      "properties": {
        "gaps": {
          "description": "Identified information gaps",
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "keyFindings": {
          "description": "Key findings from the research",
          "items": {
            "$ref": "#/definitions/ResearchFinding"
          },
          "type": "array"
        },
        "queries": {
          "description": "Generated search queries",
          "items": {
            "$ref": "#/definitions/SearchQuery"
          },
          "type": "array"
        },
        "recommendations": {
          "description": "Recommendations for next steps",
          "type": "string"
        }
      },
      "required": [
        "queries",
        "keyFindings",
        "gaps",
        "recommendations"
      ],
      "type": "object"
    },
    "ResearchUnderstandingResponse": {
      "description": "Response interface for research goal understanding analysis",
      "properties": {
        "goal": {
          "description": "Your understanding of the research goal",
          "type": "string"
        },
        "proceedWithResearch": {
          "description": "Whether the research request is clear enough to proceed",
          "type": "boolean"
        },
        "proposedDetails": {
          "description": "Proposed details and assumptions to clarify the research scope",
          "items": {
            "additionalProperties": false,
            "properties": {
              "confidence": {
                "description": "Confidence level in this assumption (0-1)",
                "type": "number"
              },
              "detail": {
                "description": "The specific detail or assumption being proposed",
                "type": "string"
              },
              "reasoning": {
                "description": "Explanation of why this detail matters",
                "type": "string"
              }
            },
            "required": [
              "detail",
              "confidence",
              "reasoning"
            ],
            "type": "object"
          },
          "type": "array"
        }
      },
      "required": [
        "proceedWithResearch",
        "proposedDetails",
        "goal"
      ],
      "type": "object"
    },
    "ReviewProgressResponse": {
      "additionalProperties": false,
      "properties": {
        "progress": {
          "items": {
            "$ref": "#/definitions/TaskProgress"
          },
          "type": "array"
        },
        "summary": {
          "type": "string"
        }
      },
      "required": [
        "progress",
        "summary"
      ],
      "type": "object"
    },
    "SchemaType": {
      "description": "Enum representing all available generated schema types",
      "enum": [
        "GoalsAnalysis",
        "BusinessGoal",
        "ContentOutline",
        "OutlineSection",
        "OperationalGuide",
        "OperationalGuideResponse",
        "ImplementationStep",
        "QAItem",
        "AnswerAnalysisResponse",
        "EditingResponse",
        "ContentSuggestion",
        "SectionImprovement",
        "FinalResponse",
        "GoalConfirmationResponse",
        "RefutingResponse",
        "ResearchResponse",
        "QueriesResponse",
        "ResearchDecomposition",
        "ResearchArtifactResponse",
        "ReviewProgressResponse",
        "WritingResponse",
        "ThinkingResponse",
        "WebSearchResponse",
        "SearchQueryResponse",
        "LinkSelectionResponse",
        "QuickQueriesResponse",
        "ResearchUnderstandingResponse",
        "CodeExecutionResponse"
      ],
      "type": "string"
    },
    "SearchQuery": {
      "additionalProperties": false,
      "description": "Interface for search query",
      "properties": {
        "query": {
          "description": "The search query text",
          "type": "string"
        },
        "rationale": {
          "description": "Explanation for why this query was chosen",
          "type": "string"
        }
      },
      "required": [
        "query",
        "rationale"
      ],
      "type": "object"
    },
    "SearchQueryResponse": {
      "properties": {
        "category": {
          "description": "The search category - use 'news' for current events, otherwise 'general'",
          "enum": [
            "general",
            "news"
          ],
          "type": "string"
        },
        "searchQuery": {
          "description": "A broad web search query without special keywords or operators",
          "type": "string"
        }
      },
      "required": [
        "searchQuery",
        "category"
      ],
      "type": "object"
    },
    "SectionImprovement": {
      "additionalProperties": false,
      "description": "Represents improvements for a content section",
      "properties": {
        "section": {
          "description": "Section identifier or name",
          "type": "string"
        },
        "suggestions": {
          "description": "List of suggestions for this section",
          "items": {
            "$ref": "#/definitions/ContentSuggestion"
          },
          "type": "array"
        }
      },
      "required": [
        "section",
        "suggestions"
      ],
      "type": "object"
    },
    "TaskProgress": {
      "additionalProperties": false,
      "properties": {
        "analysis": {
          "type": "string"
        },
        "blockers": {
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "nextSteps": {
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "status": {
          "enum": [
            "Not Started",
            "In Progress",
            "Blocked",
            "Complete"
          ],
          "type": "string"
        },
        "taskId": {
          "type": "string"
        }
      },
      "required": [
        "taskId",
        "status",
        "analysis",
        "nextSteps"
      ],
      "type": "object"
    },
    "TaskStatus": {
      "description": "Represents the status of a task in the review process",
      "enum": [
        "Not Started",
        "In Progress",
        "Blocked",
        "Complete"
      ],
      "type": "string"
    },
    "ThinkingResponse": {
      "additionalProperties": false,
      "properties": {
        "conclusion": {
          "description": "Final conclusion based on the reasoning",
          "type": "string"
        },
        "reasoning": {
          "description": "Step-by-step reasoning process",
          "type": "string"
        }
      },
      "required": [
        "reasoning",
        "conclusion"
      ],
      "type": "object"
    },
    "ValidationResult": {
      "additionalProperties": false,
      "properties": {
        "isComplete": {
          "description": "Whether the solution fully addresses the original goal",
          "type": "boolean"
        },
        "message": {
          "description": "Explanation of the validation results",
          "type": "string"
        },
        "missingAspects": {
          "description": "List of aspects that still need to be addressed",
          "items": {
            "type": "string"
          },
          "type": "array"
        }
      },
      "required": [
        "isComplete",
        "message"
      ],
      "type": "object"
    },
    "WebSearchResponse": {
      "additionalProperties": false,
      "description": "Represents the structured response for web search results selection",
      "properties": {
        "urls": {
          "description": "Array of selected URLs most relevant to the research goal",
          "items": {
            "type": "string"
          },
          "type": "array"
        }
      },
      "required": [
        "urls"
      ],
      "type": "object"
    },
    "WritingResponse": {
      "additionalProperties": false,
      "properties": {
        "sections": {
          "items": {
            "$ref": "#/definitions/WritingSection"
          },
          "type": "array"
        }
      },
      "required": [
        "sections"
      ],
      "type": "object"
    },
    "WritingSection": {
      "additionalProperties": false,
      "properties": {
        "description": {
          "type": "string"
        },
        "keyPoints": {
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "researchFindings": {
          "items": {
            "$ref": "#/definitions/ResearchFinding"
          },
          "type": "array"
        },
        "title": {
          "type": "string"
        }
      },
      "required": [
        "title",
        "description",
        "keyPoints"
      ],
      "type": "object"
    }
  }
}